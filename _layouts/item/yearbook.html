---
# custom layout for Gem yearbooks
# title,volume,date,quote,sponsor,signatures,archive_link,image_spine,highlight_images,object_location,image_thumb,image_small
layout: default
# item-meta adds rich meta markup to the page on production build
item-meta: true
gallery: true
---
<div class="container my-4 card shadow">
    <div class="card-body">

        <ol class="breadcrumb shadow-sm">
            <li class="breadcrumb-item"><a class="text-dark" href="{{ '/' | relative_url }}">Home</a></li>
            <li class="breadcrumb-item"><a class="text-dark" href="{{ '/browse.html' | relative_url }}">Browse</a></li>
            <li class="breadcrumb-item active text-dark" aria-current="page">Gem {{ page.date }}</li>
        </ol>

        <div class="my-0 h5 small">{{ page.display_template | replace: "_", " " | upcase }} </div>
        
        <h2 class="mb-3 display-4">{{ page.title }} ({{ page.volume }})</h2>
        
        <blockquote class="blockquote ms-5 mb-4 text-end">{{ page.quote | markdownify }}</blockquote>

        <div class="row justify-content-center">
            
            <div class="col-md-8">
                
                <div id="iaReader" class="ratio reader-embed shadow"></div>
                <script> 
                    // check url for page query
                    let url = new URL(window.location);
                    var viewer_src = url.searchParams.get('page') ? "{{ page.archive_link | replace: '/details/', '/embed/' }}/page/n" + url.searchParams.get('page') + "/mode/2up" : "{{ page.archive_link | replace: '/details/', '/embed/' }}";
                    // add iframe IA reader
                    document.getElementById('iaReader').innerHTML = `<iframe title="embedded reader {{ page.title }}" src="${viewer_src}" allowfullscreen></iframe>`;
                </script>
                <p class="my-3">
                    <a target="_blank" rel="noopener" href="{{ page.archive_link }}/mode/2up?view=theater" class="btn btn-outline-primary">Fullscreen Viewer</a>
                    <a target="_blank" rel="noopener" href="{{ page.object_location | relative_url }}" class="btn btn-outline-primary">Download PDF</a>
                </p>
            </div>
            <div class="col-md-3">
                <h3>Highlights</h3>
                <p><small>(click to enlarge)</small></p>
                {% assign highlights = page.highlight_images | split: ';' %}
                <div class="row">
                    {% for h in highlights %}
                    <div class="col-6 mb-2">
                        <a class="spotlight gallery-img" data-download="true" href="https://objects.lib.uidaho.edu/gem/highlights/{{ h }}">
                            <img src="https://objects.lib.uidaho.edu/gem/highlights/small/{{ h | replace: '.jpg', '_sm.jpg' }}" alt="yearbook page highlight" class="img-fluid shadow">
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-md-1 order-md-first">
                <a class="spotlight gallery-img" data-download="true" href="{{ page.image_spine }}">
                    <img src="{{ page.image_spine }}" class="img-fluid img-spine shadow" alt="book spine showing {{ page.title }}">
                </a>
            </div>

            <div class="col-12 col-md-10 pt-4">
                {% if page.sponsor %}<p><strong>Yearbook Sponsor:</strong> {{ page.sponsor }}</p>{% endif %}
                {% if page.signatures %}<p><strong>Digital Yearbook Signatures:</strong></p>
                {% assign signatures = page.signatures | split: ';' %}
                <ul>
                {% for s in signatures %}
                <li>{{ s }}</li>
                {% endfor %}
                </ul>
                {% endif %}

                {% include item/contact-btn.html %}
            </div>

            <div class="col-md-5 py-4">
                {% include item/citation-box.html %}
            </div>
            {% if page.rights or page.rightsstatement %}
            <div class="col-md-5 py-4">
                {% include item/rights-box.html %}
            </div>
            {% endif %}
        </div>

        <div class="text-center">
            <a class="btn btn-secondary" href="{{ page.previous_item | relative_url }}" id="prev-page-button">&laquo; Previous</a>
            <a class="btn btn-secondary" href="{{ '/browse.html' | relative_url }}">Back to Browse</a>
            <a class="btn btn-secondary" href="{{ page.next_item | relative_url }}" id="next-page-button">Next &raquo;</a>
        </div>

    </div>

</div>

<div id="item-nav">
    <div class="d-none d-md-block">
        <a class="previous btn btn-lg btn-secondary" href="{{ page.previous_item | relative_url }}">&laquo;</a>
        <a class="next btn btn-lg btn-secondary" href="{{ page.next_item | relative_url }}">&raquo;</a>
    </div>
</div>
<script>
    function leftArrowPressed() {
      location.href = document.getElementById("prev-page-button").href;
    };
  
    function rightArrowPressed() {
      location.href = document.getElementById("next-page-button").href;
    };
  
    function leftModalArrowPressed() {
      // Get the modal element.
      var modalshow = document.querySelector(".modal.show");
      // If the modal exists, get the prev button element.
      if (modalshow) {
        const prevButton = modalshow.querySelector(".prev-child-button");
        // If the prev button exists, click it.
        if (prevButton) {
          prevButton.click();
        }
      }
    };
  
    function rightModalArrowPressed() {
      // Get the modal element.
      var modalshow = document.querySelector(".modal.show");
      // If the modal exists, get the prev button element.
      if (modalshow) {
        const nextButton = modalshow.querySelector(".next-child-button");
        // If the prev button exists, click it.
        if (nextButton) {
          nextButton.click();
        }
      }
    };
  
    function isModalShown() {
      // Get the modal element.
      const modal = document.querySelector(".modal.show");
  
      // Check if the modal has the "show" class.
      return modal && modal.classList.contains("show");
    };
  
    function isSpotlightModalShown() {
      // Get the modal element.
      const spotlight = document.getElementById("spotlight");
      // Check if the modal has the "show" class.
      return spotlight && spotlight.classList.contains("show");
    };
  
    document.onkeydown = function (evt) {
      if (isSpotlightModalShown()) {
  
  
      } else if (isModalShown()) {
        // The modal is shown.
        evt = evt || window.event;
        switch (evt.keyCode) {
          case 37:
            leftModalArrowPressed();
              break;
          case 39:
            rightModalArrowPressed();
              break;
        }
      }
      else {
        // The modal is not shown.
        evt = evt || window.event;
        switch (evt.keyCode) {
          case 37:
            leftArrowPressed();
              break;
          case 39:
            rightArrowPressed();
              break;
        }
      }
  
    };
</script>